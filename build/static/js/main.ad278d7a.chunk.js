(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{119:function(e,t,a){e.exports=a(149)},124:function(e,t,a){},149:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(12),c=a.n(r);a(124),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=a(46),o=a(13);function u(e){return l.a.createElement("h1",null,"Create User")}var s=a(7),d=a(22),m=a(210),f=a(198),v=a(199),h=a(200),b=a(201),E=a(214),p=a(202),g=a(212),j=a(19),y=a.n(j),O=a(23);function w(){var e=Object(d.a)(["\n  margin-bottom: 24px;\n"]);return w=function(){return e},e}function S(){var e=Object(d.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-self: flex-end;\n  width: 47%;\n  margin-top: 28px;\n"]);return S=function(){return e},e}function x(){var e=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]);return x=function(){return e},e}var N=[{value:"Software",label:"Software"},{value:"Hardware",label:"Hardware"},{value:"Service",label:"Service"}],C=[{value:"Low",label:"Low"},{value:"Normal",label:"Normal"},{value:"High",label:"High"}],D=[{value:k(7),label:"7 Days"},{value:k(14),label:"14 days"},{value:k(28),label:"28 days"},{value:function(e){var t=new Date;return t.setMonth(t.getMonth()+e)}(6),label:"6 months"}];function k(e){var t=new Date;return t.setDate(t.getDate()+e)}var I=O.a.form(x()),R=O.a.div(S()),L=Object(O.a)(m.a)(w());function T(e){var t=l.a.useState(""),a=Object(s.a)(t,2),n=a[0],r=a[1],c=l.a.useState("Software"),i=Object(s.a)(c,2),o=i[0],u=i[1],d=l.a.useState([{label:"",value:""}]),m=Object(s.a)(d,2),j=m[0],O=m[1],w=l.a.useState("Juan"),S=Object(s.a)(w,2),x=S[0],k=S[1],T=l.a.useState("Normal"),q=Object(s.a)(T,2),M=q[0],W=q[1],U=l.a.useState("7"),B=Object(s.a)(U,2),H=B[0],P=B[1],F=l.a.useState(""),G=Object(s.a)(F,2),J=G[0],_=G[1],A=l.a.useState(!1),V=Object(s.a)(A,2),K=V[0],$=V[1],z=l.a.useState(!1),Q=Object(s.a)(z,2),X=Q[0],Y=Q[1],Z=l.a.useState(!1),ee=Object(s.a)(Z,2),te=ee[0],ae=ee[1];return l.a.useEffect((function(){y.a.get("http://localhost:8080/api/user/all").then((function(e){console.log(e.data);var t=[];e.data.data.map((function(e){t.push({label:e.firstName+" "+e.lastName,value:e._id})})),O(t)})).catch((function(e){console.log(e)}))}),[]),l.a.useEffect((function(){ae((console.log("subject",n),!!(n&&o&&x&&M&&H)))}),[n,o,x,M,H]),console.log("render"),l.a.createElement(f.a,{maxWidth:"sm",style:{marginTop:"96px"}},l.a.createElement(v.a,null,l.a.createElement(h.a,{title:"Create a new incident",subheader:"Fill in all the required incident details"}),l.a.createElement(b.a,null,l.a.createElement(I,{autoComplete:"on"},l.a.createElement(L,{required:!0,id:"subject",label:"Subject",value:n,onChange:function(e){r(e.target.value)}}),l.a.createElement(L,{id:"type",select:!0,required:!0,label:"Type of incident",value:o,onChange:function(e){u(e.target.value)}},N.map((function(e){return l.a.createElement(E.a,{key:e.value,value:e.value},e.label)}))),l.a.createElement(L,{id:"user",select:!0,required:!0,label:"Reported by user",value:x,onChange:function(e){k(e.target.value)}},j.map((function(e){return l.a.createElement(E.a,{key:e.value,value:e.value},e.label)}))),l.a.createElement(L,{id:"priority",select:!0,required:!0,label:"Priority",value:M,onChange:function(e){W(e.target.value)}},C.map((function(e){return l.a.createElement(E.a,{key:e.value,value:e.value},e.label)}))),l.a.createElement(L,{id:"deadline",select:!0,required:!0,label:"Deadline",value:H,onChange:function(e){P(e.target.value)}},D.map((function(e){return l.a.createElement(E.a,{key:e.value,value:e.value},e.label)}))),l.a.createElement(L,{id:"description",label:"Description",multiline:!0,rows:6,value:J,onChange:function(e){_(e.target.value)},variant:"outlined"}),l.a.createElement(R,null,l.a.createElement(p.a,{color:"secondary",variant:"outlined",onClick:function(){return window.history.back()}},"CANCEL"),l.a.createElement(p.a,{color:"primary",variant:"contained",onClick:function(){return function(e){var t={reportDate:new Date,subject:n,type:o,reportedBy:x,priority:M,deadline:H,description:J,isResolved:"false"};y.a.post("http://localhost:8080/api/incident",t).then((function(e){$(!0)})).catch((function(e){Y(!0)}))}()},disabled:!te,disableElevation:!0},"SUBMIT TICKET")))),l.a.createElement(g.a,{open:K,message:"Incident creation successful"}),l.a.createElement(g.a,{open:X,message:"Incident creation failed, please try again"})))}function q(e){return l.a.createElement("h1",null,"Login")}var M=a(67),W=a(208),U=a(68),B=a(209),H=a(205),P=a(203),F=a(150);function G(){var e=Object(d.a)(["\n  width: 300px !important;\n  height: 300px !important;\n"]);return G=function(){return e},e}function J(){var e=Object(d.a)(["\n  display: flex;\n  justify-content: center;\n"]);return J=function(){return e},e}var _=Object(O.a)(b.a)(J()),A=Object(O.a)(F.a)(G());function V(e){return l.a.createElement(v.a,null,l.a.createElement(h.a,{title:e.title,subheader:e.subtitle}),l.a.createElement(_,null,l.a.createElement(W.a,{position:"relative",display:"inline-flex"},l.a.createElement(A,Object.assign({variant:"static"},e)),l.a.createElement(W.a,{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},l.a.createElement(U.a,{variant:"h2",component:"div"},e.unResolved&&e.total?"".concat(e.unResolved,"/").concat(e.total):e.total)))))}function K(){var e=l.a.useState(0),t=Object(s.a)(e,2),a=t[0],n=t[1],r=l.a.useState(0),c=Object(s.a)(r,2),i=c[0],o=c[1],u=l.a.useState(0),d=Object(s.a)(u,2),m=d[0],v=d[1];return l.a.useEffect((function(){y.a.all([y.a.get("http://localhost:8080/api/incident/all"),y.a.get("http://localhost:8080/api/incident/all",{params:{isResolved:!1}})]).then(y.a.spread((function(e,t){v(e.data.data.length),o(t.data.data.length)})))}),[]),l.a.useEffect((function(){var e=i/m*100,t=setInterval((function(){n((function(t){return t>=e?e:t+10}))}),10);return function(){clearInterval(t)}}),[m,i]),l.a.createElement(f.a,{maxWidth:"lg"},l.a.createElement(P.a,{container:!0,spacing:4},l.a.createElement(P.a,{item:!0,xs:6},l.a.createElement(V,{title:"Unresolved incidents",subtitle:"All tickets currently open",total:m,value:a,unResolved:i})),l.a.createElement(P.a,{item:!0,xs:6},l.a.createElement(V,{title:"Incidents past deadline",subtitle:"These tickets need your immediate attention",total:0,value:0}))))}var $=a(99);function z(e){var t=Object(n.useState)({data:[]}),a=Object(s.a)(t,2),r=(a[0],a[1]);return l.a.useEffect((function(){y.a.get("http://localhost:8080/api/incident/all").then((function(e){r({data:e.data.data})})).catch((function(e){console.log(e)}))}),[]),l.a.createElement("div",{style:{height:400,width:"100%"}},l.a.createElement($.a,{rows:e.data,columns:e.columns,loading:e.loading}))}var Q=[{field:"_id",hide:!0},{field:"subject",headerName:"Subject",width:500},{field:"type",headerName:"Incident Type",width:130},{field:"reportDate",headerName:"Report Date",width:180},{field:"deadline",headerName:"Due Date"},{field:"priority",headerName:"Priority"},{field:"isResolved",headerName:"Resolved"}],X=[{field:"_id",hide:!0},{field:"firstName",hide:!0},{field:"lastName",hide:!0},{field:"name",headerName:"Full Name",width:180,valueGetter:function(e){return"".concat(e.getValue("firstName")||""," ").concat(e.getValue("lastName")||"")}},{field:"location",headerName:"Location",width:180},{field:"phoneNumber",headerName:"Phone Number",width:180},{field:"role",headerName:"Role",width:250}],Y=a(66),Z=a.n(Y);function ee(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],r=t[1];return l.a.useEffect((function(){y.a.get("http://localhost:8080/api/incident/all").then((function(e){r(e.data.data)})).catch((function(e){console.log(e)}))}),[]),l.a.createElement(f.a,{maxWidth:"lg"},l.a.createElement(i.b,{to:"/create-incident"},l.a.createElement(p.a,{variant:"contained",color:"secondary",startIcon:l.a.createElement(Z.a,null)},"Create Incident")),l.a.createElement(z,{columns:Q,data:a,loading:a.length<=0}))}function te(){var e=Object(d.a)(['\n  [class*="flexContainer"] {\n    justify-content: center;\n  }\n']);return te=function(){return e},e}Object(O.a)(B.a)(te());function ae(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],r=t[1];return l.a.useEffect((function(){y.a.get("http://localhost:8080/api/user/all").then((function(e){r(e.data.data)})).catch((function(e){console.log(e)}))}),[]),l.a.createElement(f.a,{maxWidth:"lg"},l.a.createElement(i.b,{to:"/create-user"},l.a.createElement(p.a,{variant:"contained",color:"secondary",startIcon:l.a.createElement(Z.a,null)},"Create User")),l.a.createElement(z,{columns:X,data:a,loading:a.length<=0}))}function ne(){var e=Object(d.a)(['\n  [class*="flexContainer"] {\n    justify-content: center;\n  }\n']);return ne=function(){return e},e}function le(e){var t=e.children,a=e.value,n=e.index,r=Object(M.a)(e,["children","value","index"]);return l.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n)},r),a===n&&l.a.createElement(W.a,{p:3},l.a.createElement(U.a,null,t)))}var re=Object(O.a)(B.a)(ne());function ce(e){var t=l.a.useState(0),a=Object(s.a)(t,2),n=a[0],r=a[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(re,{value:n,onChange:function(e,t){r(t)}},l.a.createElement(H.a,{label:"Dashboard"}),l.a.createElement(H.a,{label:"Incident Management"}),l.a.createElement(H.a,{label:"User Management"})),l.a.createElement(le,{value:n,index:0},l.a.createElement(K,null)),l.a.createElement(le,{value:n,index:1},l.a.createElement(ee,null)),l.a.createElement(le,{value:n,index:2},l.a.createElement(ae,null)))}var ie=a(204),oe=a(206);function ue(){var e=Object(d.a)(["\n  justify-content: space-between;\n"]);return ue=function(){return e},e}var se=Object(O.a)(ie.a)(ue());function de(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),a=t[0];t[1];return l.a.createElement(oe.a,{position:"static"},l.a.createElement(se,null,l.a.createElement(U.a,{variant:"h6"},"GG: Service Desk Platform"),null===a?l.a.createElement(p.a,{color:"inherit"},"Login"):l.a.createElement(p.a,{color:"inherit"},"Logout")))}c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(de,null),l.a.createElement(i.a,null,l.a.createElement(o.c,null,l.a.createElement(o.a,{path:"/create-user"},l.a.createElement(u,null)),l.a.createElement(o.a,{path:"/create-incident"},l.a.createElement(T,null)),l.a.createElement(o.a,{path:"/login"},l.a.createElement(q,null)),l.a.createElement(o.a,{path:"/"},l.a.createElement(ce,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[119,1,2]]]);
//# sourceMappingURL=main.ad278d7a.chunk.js.map